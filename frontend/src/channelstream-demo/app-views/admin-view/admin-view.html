<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../../../bower_components/paper-progress/paper-progress.html">
<link rel="import" href="../../../channelstream-admin/server-info.html">

<dom-module id="admin-view">
    <template>

        <style>
            .transparent {
                opacity: 0;
            }

            #admin-page-progress {
                width: 100%;
                --paper-progress-indeterminate-cycle-duration: 3s;
                margin-bottom: 15px;
                transition-duration: 500ms;
            }

        </style>
        <iron-ajax
            id="ajax-admin-info"
            handle-as="json"
            loading="{{loadingAdmin}}"
            last-response="{{adminResponse}}"
            on-response="setChannels"
            debounce-duration="300"></iron-ajax>

        <paper-progress id="admin-page-progress" indeterminate class="transparent"></paper-progress>

        <server-info channels="[[channels]]" server-stats="[[serverStats]]"></server-info>

    </template>
    <script src="admin-view.js"></script>
</dom-module>
